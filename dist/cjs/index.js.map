{"version":3,"file":"index.js","sources":["../../node_modules/tslib/tslib.es6.js","../../src/rmrk1.0.0/classes/collection.ts","../../src/rmrk1.0.0/classes/nft.ts","../../src/rmrk1.0.0/classes/changeissuer.ts","../../src/rmrk1.0.0/classes/send.ts","../../src/rmrk1.0.0/classes/emote.ts","../../node_modules/@polkadot/util/is/function.mjs","../../node_modules/@polkadot/util/is/string.mjs","../../node_modules/@polkadot/util/assert.mjs","../../node_modules/@babel/runtime/helpers/esm/defineProperty.js","../../node_modules/@polkadot/util/is/hex.mjs","../../node_modules/@polkadot/util/hex/hasPrefix.mjs","../../node_modules/@polkadot/util/hex/stripPrefix.mjs","../../node_modules/@polkadot/util/buffer/toU8a.mjs","../../node_modules/@polkadot/util/hex/toU8a.mjs","../../node_modules/@polkadot/util/is/buffer.mjs","../../node_modules/@polkadot/util/string/toU8a.mjs","../../node_modules/@polkadot/util/u8a/toU8a.mjs","../../node_modules/@polkadot/util/u8a/concat.mjs","../../node_modules/@polkadot/util/u8a/toHex.mjs","../../node_modules/@polkadot/util/is/instanceOf.mjs","../../node_modules/@polkadot/util/is/u8a.mjs","../../node_modules/safe-buffer/index.js","../../node_modules/base-x/src/index.js","../../node_modules/@polkadot/util-crypto/base58/bs58.mjs","../../node_modules/@polkadot/util-crypto/base58/validate.mjs","../../node_modules/@polkadot/util-crypto/base58/decode.mjs","../../node_modules/blakejs/util.js","../../node_modules/blakejs/blake2b.js","../../node_modules/blakejs/blake2s.js","../../node_modules/blakejs/index.js","../../node_modules/@polkadot/util-crypto/blake2/asU8a.mjs","../../node_modules/@polkadot/util-crypto/address/sshash.mjs","../../node_modules/@polkadot/util-crypto/address/checksum.mjs","../../node_modules/@polkadot/networks/index.mjs","../../node_modules/@polkadot/util-crypto/address/defaults.mjs","../../node_modules/@polkadot/util-crypto/address/decode.mjs","../../src/tools/utils.ts","../../src/tools/types.ts","../../src/tools/consolidator/consolidator.ts"],"sourcesContent":["/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport function __createBinding(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n}\r\n\r\nexport function __exportStar(m, exports) {\r\n    for (var p in m) if (p !== \"default\" && !exports.hasOwnProperty(p)) exports[p] = m[p];\r\n}\r\n\r\nexport function __values(o) {\r\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\r\n    if (m) return m.call(o);\r\n    if (o && typeof o.length === \"number\") return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\nexport function __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n};\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];\r\n    result.default = mod;\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n\r\nexport function __classPrivateFieldGet(receiver, privateMap) {\r\n    if (!privateMap.has(receiver)) {\r\n        throw new TypeError(\"attempted to get private field on non-instance\");\r\n    }\r\n    return privateMap.get(receiver);\r\n}\r\n\r\nexport function __classPrivateFieldSet(receiver, privateMap, value) {\r\n    if (!privateMap.has(receiver)) {\r\n        throw new TypeError(\"attempted to set private field on non-instance\");\r\n    }\r\n    privateMap.set(receiver, value);\r\n    return value;\r\n}\r\n","// @todo: add data!\nimport { Change } from \"../changelog\";\n\nexport class Collection {\n  readonly block: number;\n  readonly name: string;\n  readonly max: number;\n  issuer: string;\n  readonly symbol: string;\n  readonly id: string;\n  readonly metadata: string;\n  static V = \"RMRK1.0.0\";\n  private changes: Change[] = [];\n  loadedMetadata?: CollectionMetadata;\n\n  constructor(\n    block: number,\n    name: string,\n    max: number,\n    issuer: string,\n    symbol: string,\n    id: string,\n    metadata: string\n  ) {\n    this.block = block;\n    this.name = name;\n    this.max = max;\n    this.issuer = issuer;\n    this.symbol = symbol;\n    this.id = id;\n    this.metadata = metadata;\n  }\n\n  public mint(): string {\n    if (this.block) {\n      throw new Error(\"An already existing collection cannot be minted!\");\n    }\n    return `RMRK::MINT::${Collection.V}::${encodeURIComponent(\n      JSON.stringify({\n        name: this.name,\n        max: this.max,\n        issuer: this.issuer,\n        symbol: this.symbol.toUpperCase(),\n        id: this.id,\n        metadata: this.metadata,\n      })\n    )}`;\n  }\n\n  public change_issuer(address: string): string {\n    if (this.block === 0) {\n      throw new Error(\n        \"This collection is new, so there's no issuer to change.\" +\n          \" If it has been deployed on chain, load the existing \" +\n          \"collection as a new instance first, then change issuer.\"\n      );\n    }\n    return `RMRK::CHANGEISSUER::${Collection.V}::${this.id}::${address}`;\n  }\n\n  public addChange(c: Change): Collection {\n    this.changes.push(c);\n    return this;\n  }\n\n  public getChanges(): Change[] {\n    return this.changes;\n  }\n\n  static generateId(pubkey: string, symbol: string): string {\n    if (!pubkey.startsWith(\"0x\")) {\n      throw new Error(\"This is not a valid pubkey, it does not start with 0x\");\n    }\n    //console.log(pubkey);\n    return (\n      pubkey.substr(2, 10) +\n      pubkey.substring(pubkey.length - 8) +\n      \"-\" +\n      symbol.toUpperCase()\n    );\n  }\n\n  static fromRemark(remark: string, block?: number): Collection | string {\n    if (!block) {\n      block = 0;\n    }\n    const exploded = remark.split(\"::\");\n    try {\n      if (exploded[0].toUpperCase() != \"RMRK\")\n        throw new Error(\"Invalid remark - does not start with RMRK\");\n      if (exploded[1] != \"MINT\")\n        throw new Error(\"The op code needs to be MINT, is \" + exploded[1]);\n      if (exploded[2] != Collection.V) {\n        throw new Error(\n          `This remark was issued under version ${exploded[2]} instead of ${Collection.V}`\n        );\n      }\n      const data = decodeURIComponent(exploded[3]);\n      const obj = JSON.parse(data);\n      if (!obj) throw new Error(`Could not parse object from: ${data}`);\n      if (\n        undefined === obj.metadata ||\n        (!obj.metadata.startsWith(\"ipfs\") && !obj.metadata.startsWith(\"http\"))\n      )\n        throw new Error(`Invalid metadata - not an HTTP or IPFS URL`);\n      if (undefined === obj.name) throw new Error(`Missing field: name`);\n      if (undefined === obj.max) throw new Error(`Missing field: max`);\n      if (undefined === obj.issuer) throw new Error(`Missing field: issuer`);\n      if (undefined === obj.symbol) throw new Error(`Missing field: symbol`);\n      if (undefined === obj.id) throw new Error(`Missing field: id`);\n      return new this(\n        block,\n        obj.name,\n        obj.max,\n        obj.issuer,\n        obj.symbol,\n        obj.id,\n        obj.metadata\n      );\n    } catch (e) {\n      console.error(e.message);\n      console.log(`MINT error: full input was ${remark}`);\n      return e.message;\n    }\n  }\n\n  /**\n   * TBD - hard dependency on Axios / IPFS to fetch remote\n   */\n  private async load_metadata(): Promise<CollectionMetadata> {\n    if (this.loadedMetadata) return this.loadedMetadata;\n    return {} as CollectionMetadata;\n  }\n}\n\nexport interface CollectionMetadata {\n  description?: string;\n  attributes: Attribute[];\n  external_url?: string;\n  image?: string;\n  image_data?: string;\n}\n\nexport interface Attribute {\n  display_type: DisplayType;\n  trait_type: string;\n  value: number | string;\n}\n\nexport enum DisplayType {\n  null,\n  \"boost_number\",\n  \"number\",\n  \"boost_percentage\",\n}\n","// @todo add data field\nimport { Change } from \"../changelog\";\n\nexport class NFT {\n  readonly block: number;\n  readonly collection: string;\n  readonly name: string;\n  readonly instance: string;\n  readonly transferable: number;\n  readonly data?: string;\n  readonly sn: string;\n  readonly metadata?: string;\n  reactions: Reactionmap;\n  private changes: Change[] = [];\n  owner: string;\n  static V = \"RMRK1.0.0\";\n  loadedMetadata?: NFTMetadata;\n  constructor(\n    block: number,\n    collection: string,\n    name: string,\n    instance: string,\n    transferable: number,\n    sn: string,\n    metadata?: string,\n    data?: string\n  ) {\n    this.block = block;\n    this.collection = collection;\n    this.name = name;\n    this.instance = instance;\n    this.transferable = transferable;\n    this.sn = sn;\n    this.data = data;\n    this.metadata = metadata;\n    this.owner = \"\";\n    this.reactions = {};\n  }\n\n  public getId(): string {\n    if (!this.block)\n      throw new Error(\"This token is not minted, so it cannot have an ID.\");\n    return `${this.block}-${this.collection}-${this.instance}-${this.sn}`;\n  }\n\n  public addChange(c: Change): NFT {\n    this.changes.push(c);\n    return this;\n  }\n\n  public mintnft(): string {\n    if (this.block) {\n      throw new Error(\"An already existing NFT cannot be minted!\");\n    }\n    return `RMRK::MINTNFT::${NFT.V}::${encodeURIComponent(\n      JSON.stringify({\n        collection: this.collection,\n        name: this.name,\n        instance: this.instance,\n        transferable: this.transferable,\n        sn: this.sn,\n        metadata: this.metadata,\n      })\n    )}`;\n  }\n\n  public send(recipient: string): string {\n    if (!this.block) {\n      throw new Error(\n        `You can only send an existing NFT. If you just minted this, please load a new, \n        separate instance as the block number is an important part of an NFT's ID.`\n      );\n    }\n    return `RMRK::SEND::${NFT.V}::${this.getId()}::${recipient}`;\n  }\n\n  // @todo build this out, maybe data type?\n  static checkDataFormat(data: string): boolean {\n    return true;\n  }\n\n  static fromRemark(remark: string, block?: number): NFT | string {\n    if (!block) {\n      block = 0;\n    }\n    const exploded = remark.split(\"::\");\n    try {\n      if (exploded[0].toUpperCase() != \"RMRK\")\n        throw new Error(\"Invalid remark - does not start with RMRK\");\n      if (exploded[1] != \"MINTNFT\")\n        throw new Error(\"The op code needs to be MINTNFT, is \" + exploded[1]);\n      if (exploded[2] != NFT.V) {\n        throw new Error(\n          `This remark was issued under version ${exploded[2]} instead of ${NFT.V}`\n        );\n      }\n      const data = decodeURIComponent(exploded[3]);\n      const obj = JSON.parse(data);\n      if (!obj) throw new Error(`Could not parse object from: ${data}`);\n      // Check if the object has either data or metadata\n      if (\n        (undefined === obj.metadata ||\n          (!obj.metadata.startsWith(\"ipfs\") &&\n            !obj.metadata.startsWith(\"http\"))) &&\n        undefined === obj.data\n      )\n        throw new Error(\n          `Invalid metadata (not an HTTP or IPFS URL) and missing data`\n        );\n      if (obj.data) {\n        NFT.checkDataFormat(obj.data);\n      }\n      if (undefined === obj.name) throw new Error(`Missing field: name`);\n      if (undefined === obj.collection)\n        throw new Error(`Missing field: collection`);\n      if (undefined === obj.instance)\n        throw new Error(`Missing field: instance`);\n      if (undefined === obj.transferable)\n        throw new Error(`Missing field: transferable`);\n      if (undefined === obj.sn) throw new Error(`Missing field: sn`);\n      return new this(\n        block,\n        obj.collection,\n        obj.name,\n        obj.instance,\n        obj.transferable,\n        obj.sn,\n        obj.metadata,\n        obj.data\n      );\n    } catch (e) {\n      console.error(e.message);\n      console.log(`MINTNFT error: full input was ${remark}`);\n      return e.message;\n    }\n  }\n\n  /**\n   * @param price In plancks, so 10000000000 for 0.01 KSM. Set to 0 if canceling listing.\n   */\n  public list(price: number): string {\n    if (!this.block) {\n      throw new Error(\n        `You can only list an existing NFT. If you just minted this, please load a new, \n        separate instance as the block number is an important part of an NFT's ID.`\n      );\n    }\n    return `RMRK::LIST::${NFT.V}::${this.getId()}::${\n      price > 0 ? price : \"cancel\"\n    }`;\n  }\n\n  public buy(): string {\n    if (!this.block) {\n      throw new Error(\n        `You can only buy an existing NFT. If you just minted this, please load a new, \n        separate instance as the block number is an important part of an NFT's ID.`\n      );\n    }\n    return `RMRK::BUY::${NFT.V}::${this.getId()}`;\n  }\n\n  public consume(): string {\n    if (!this.block) {\n      throw new Error(\n        `You can only consume an existing NFT. If you just minted this, please load a new, \n        separate instance as the block number is an important part of an NFT's ID.`\n      );\n    }\n    return `RMRK::CONSUME::${NFT.V}::${this.getId()}`;\n  }\n\n  /**\n   * TBD - hard dependency on Axios / IPFS to fetch remote\n   */\n  private async load_metadata(): Promise<NFTMetadata> {\n    if (this.loadedMetadata) return this.loadedMetadata;\n    return {} as NFTMetadata;\n  }\n}\n\nexport interface NFTMetadata {\n  external_url?: string;\n  image?: string;\n  image_data?: string;\n  description?: string;\n  name?: string;\n  attributes: Attribute[];\n  background_color?: string;\n  animation_url?: string;\n  youtube_url?: string;\n}\n\nexport interface Attribute {\n  display_type: DisplayType;\n  trait_type: string;\n  value: number | string;\n}\n\nexport enum DisplayType {\n  null,\n  \"boost_number\",\n  \"number\",\n  \"boost_percentage\",\n}\n\nexport interface Reactionmap {\n  [unicode: string]: string[];\n}\n","export class ChangeIssuer {\n  issuer: string;\n  id: string;\n  static V = \"RMRK1.0.0\";\n\n  constructor(issuer: string, id: string) {\n    this.issuer = issuer;\n    this.id = id;\n  }\n\n  static fromRemark(remark: string): ChangeIssuer | string {\n    const exploded = remark.split(\"::\");\n    try {\n      if (exploded[0] != \"RMRK\")\n        throw new Error(\"Invalid remark - does not start with RMRK\");\n      if (exploded[2] != ChangeIssuer.V)\n        throw new Error(\n          `Version mismatch. Is ${exploded[2]}, should be ${ChangeIssuer.V}`\n        );\n      if (exploded[1] != \"CHANGEISSUER\")\n        throw new Error(\n          \"The op code needs to be CHANGEISSUER, is \" + exploded[1]\n        );\n\n      if (undefined === exploded[3] || undefined == exploded[4]) {\n        throw new Error(\"Cound not find ID or new issuer\");\n      }\n    } catch (e) {\n      console.error(e.message);\n      console.log(`CHANGEISSUER error: full input was ${remark}`);\n      return e.message;\n    }\n    const ci = new ChangeIssuer(exploded[4], exploded[3]);\n    return ci;\n  }\n}\n","export class Send {\n  recipient: string;\n  id: string;\n  static V = \"RMRK1.0.0\";\n\n  constructor(id: string, recipient: string) {\n    this.recipient = recipient;\n    this.id = id;\n  }\n\n  static fromRemark(remark: string): Send | string {\n    const exploded = remark.split(\"::\");\n    try {\n      if (exploded[0] != \"RMRK\")\n        throw new Error(\"Invalid remark - does not start with RMRK\");\n      if (exploded[2] != Send.V)\n        throw new Error(\n          `Version mismatch. Is ${exploded[2]}, should be ${Send.V}`\n        );\n      if (exploded[1] != \"SEND\")\n        throw new Error(\"The op code needs to be SEND, is \" + exploded[1]);\n\n      if (undefined === exploded[3] || undefined == exploded[4]) {\n        throw new Error(\"Cound not find ID or recipient\");\n      }\n    } catch (e) {\n      console.error(e.message);\n      console.log(`SEND error: full input was ${remark}`);\n      return e.message;\n    }\n    return new Send(exploded[3], exploded[4]);\n  }\n}\n","export class Emote {\n  unicode: string;\n  id: string;\n  static V = \"RMRK1.0.0\";\n\n  constructor(id: string, unicode: string) {\n    this.unicode = unicode;\n    this.id = id;\n  }\n\n  static fromRemark(remark: string): Emote | string {\n    const exploded = remark.split(\"::\");\n    try {\n      if (exploded[0] != \"RMRK\")\n        throw new Error(\"Invalid remark - does not start with RMRK\");\n      if (exploded[2] != Emote.V)\n        throw new Error(\n          `Version mismatch. Is ${exploded[2]}, should be ${Emote.V}`\n        );\n      if (exploded[1] != \"EMOTE\")\n        throw new Error(\"The op code needs to be EMOTE, is \" + exploded[1]);\n\n      if (undefined === exploded[3] || undefined == exploded[4]) {\n        throw new Error(\"Cound not find ID or unicode\");\n      }\n    } catch (e) {\n      console.error(e.message);\n      console.log(`EMOTE error: full input was ${remark}`);\n      return e.message;\n    }\n    return new Emote(exploded[3], exploded[4]);\n  }\n}\n","// Copyright 2017-2021 @polkadot/util authors & contributors\n// SPDX-License-Identifier: Apache-2.0\n// eslint-disable-next-line @typescript-eslint/ban-types\n\n/**\n * @name isFunction\n * @summary Tests for a `function`.\n * @description\n * Checks to see if the input value is a JavaScript function.\n * @example\n * <BR>\n *\n * ```javascript\n * import { isFunction } from '@polkadot/util';\n *\n * isFunction(() => false); // => true\n * ```\n */\nexport function isFunction(value) {\n  return typeof value === 'function';\n}","// Copyright 2017-2021 @polkadot/util authors & contributors\n// SPDX-License-Identifier: Apache-2.0\n\n/**\n * @name isString\n * @summary Tests for a string.\n * @description\n * Checks to see if the input value is a JavaScript string.\n * @example\n * <BR>\n *\n * ```javascript\n * import { isString } from '@polkadot/util';\n *\n * console.log('isString', isString('test')); // => true\n * ```\n */\n// eslint-disable-next-line @typescript-eslint/ban-types\nexport function isString(value) {\n  return typeof value === 'string' || value instanceof String;\n}","// Copyright 2017-2021 @polkadot/util authors & contributors\n// SPDX-License-Identifier: Apache-2.0\nimport { isFunction } from \"./is/function.mjs\";\nimport { isUndefined } from \"./is/undefined.mjs\";\n\n/**\n * @name assert\n * @summary Checks for a valid test, if not Error is thrown.\n * @description\n * Checks that `test` is a truthy value. If value is falsy (`null`, `undefined`, `false`, ...), it throws an Error with the supplied `message`. When `test` passes, `true` is returned.\n * @example\n * <BR>\n *\n * ```javascript\n * const { assert } from '@polkadot/util';\n *\n * assert(true, 'True should be true'); // passes\n * assert(false, 'False should not be true'); // Error thrown\n * assert(false, () => 'message'); // Error with 'message'\n * ```\n */\nexport function assert(condition, message) {\n  if (!condition) {\n    throw new Error(isFunction(message) ? message() : message);\n  }\n}\n/**\n * @name assertReturn\n * @summart Returns when the value is not undefined, otherwise throws assertion error\n */\n\nexport function assertReturn(value, message) {\n  assert(!isUndefined(value), message);\n  return value;\n}","export default function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}","// Copyright 2017-2021 @polkadot/util authors & contributors\n// SPDX-License-Identifier: Apache-2.0\nimport { isString } from \"./string.mjs\";\nconst HEX_REGEX = /^0x[a-fA-F0-9]+$/;\n/**\n * @name isHex\n * @summary Tests for a hex string.\n * @description\n * Checks to see if the input value is a `0x` prefixed hex string. Optionally (`bitLength` !== -1) checks to see if the bitLength is correct.\n * @example\n * <BR>\n *\n * ```javascript\n * import { isHex } from '@polkadot/util';\n *\n * isHex('0x1234'); // => true\n * isHex('0x1234', 8); // => false\n * ```\n */\n// eslint-disable-next-line @typescript-eslint/ban-types\n\nexport function isHex(value, bitLength = -1, ignoreLength = false) {\n  const isValidHex = value === '0x' || isString(value) && HEX_REGEX.test(value.toString());\n\n  if (isValidHex && bitLength !== -1) {\n    return value.length === 2 + Math.ceil(bitLength / 4);\n  }\n\n  return isValidHex && (ignoreLength || value.length % 2 === 0);\n}","// Copyright 2017-2021 @polkadot/util authors & contributors\n// SPDX-License-Identifier: Apache-2.0\nimport { isHex } from \"../is/hex.mjs\";\n/**\n * @name hexHasPrefix\n * @summary Tests for the existence of a `0x` prefix.\n * @description\n * Checks for a valid hex input value and if the start matched `0x`\n * @example\n * <BR>\n *\n * ```javascript\n * import { hexHasPrefix } from '@polkadot/util';\n *\n * console.log('has prefix', hexHasPrefix('0x1234')); // => true\n * ```\n */\n\nexport function hexHasPrefix(value) {\n  return !!(value && isHex(value, -1, true) && value.substr(0, 2) === '0x');\n}","// Copyright 2017-2021 @polkadot/util authors & contributors\n// SPDX-License-Identifier: Apache-2.0\nimport { hexHasPrefix } from \"./hasPrefix.mjs\";\nconst UNPREFIX_HEX_REGEX = /^[a-fA-F0-9]+$/;\n/**\n * @name hexStripPrefix\n * @summary Strips any leading `0x` prefix.\n * @description\n * Tests for the existence of a `0x` prefix, and returns the value without the prefix. Un-prefixed values are returned as-is.\n * @example\n * <BR>\n *\n * ```javascript\n * import { hexStripPrefix } from '@polkadot/util';\n *\n * console.log('stripped', hexStripPrefix('0x1234')); // => 1234\n * ```\n */\n\nexport function hexStripPrefix(value) {\n  if (!value) {\n    return '';\n  }\n\n  if (hexHasPrefix(value)) {\n    return value.substr(2);\n  }\n\n  if (UNPREFIX_HEX_REGEX.test(value)) {\n    return value;\n  }\n\n  throw new Error(`Invalid hex ${value} passed to hexStripPrefix`);\n}","// Copyright 2017-2021 @polkadot/util authors & contributors\n// SPDX-License-Identifier: Apache-2.0\n\n/**\n * @name bufferToU8a\n * @summary Creates a Uint8Array value from a Buffer object.\n * @description\n * `null` inputs returns an empty result, `Buffer` values return the actual value as a `Uint8Array`. Anything that is not a `Buffer` object throws an error.\n * @example\n * <BR>\n *\n * ```javascript\n * import { bufferToU8a } from '@polkadot/util';\n *\n * bufferToU8a(Buffer.from([1, 2, 3]));\n * ```\n */\nexport function bufferToU8a(buffer) {\n  return new Uint8Array(buffer || []);\n}","// Copyright 2017-2021 @polkadot/util authors & contributors\n// SPDX-License-Identifier: Apache-2.0\nimport { assert } from \"../assert.mjs\";\nimport { isHex } from \"../is/hex.mjs\";\nimport { hexStripPrefix } from \"./stripPrefix.mjs\";\n/**\n * @name hexToU8a\n * @summary Creates a Uint8Array object from a hex string.\n * @description\n * `null` inputs returns an empty `Uint8Array` result. Hex input values return the actual bytes value converted to a Uint8Array. Anything that is not a hex string (including the `0x` prefix) throws an error.\n * @example\n * <BR>\n *\n * ```javascript\n * import { hexToU8a } from '@polkadot/util';\n *\n * hexToU8a('0x80001f'); // Uint8Array([0x80, 0x00, 0x1f])\n * hexToU8a('0x80001f', 32); // Uint8Array([0x00, 0x80, 0x00, 0x1f])\n * ```\n */\n\nexport function hexToU8a(_value, bitLength = -1) {\n  if (!_value) {\n    return new Uint8Array();\n  }\n\n  assert(isHex(_value), `Expected hex value to convert, found '${_value}'`);\n  const value = hexStripPrefix(_value);\n  const valLength = value.length / 2;\n  const bufLength = Math.ceil(bitLength === -1 ? valLength : bitLength / 8);\n  const result = new Uint8Array(bufLength);\n  const offset = Math.max(0, bufLength - valLength);\n\n  for (let index = 0; index < bufLength; index++) {\n    result[index + offset] = parseInt(value.substr(index * 2, 2), 16);\n  }\n\n  return result;\n}","// Copyright 2017-2021 @polkadot/util authors & contributors\n// SPDX-License-Identifier: Apache-2.0\n\n/**\n * @name isBuffer\n * @summary Tests for a `Buffer` object instance.\n * @description\n * Checks to see if the input object is an instance of `Buffer`.\n * @example\n * <BR>\n *\n * ```javascript\n * import { isBuffer } from '@polkadot/util';\n *\n * console.log('isBuffer', isBuffer(Buffer.from([]))); // => true\n * ```\n */\nexport function isBuffer(value) {\n  return Buffer.isBuffer(value);\n}","// Copyright 2017-2021 @polkadot/util authors & contributors\n// SPDX-License-Identifier: Apache-2.0\nimport { TextEncoder } from '@polkadot/x-textencoder';\nconst encoder = new TextEncoder();\n/**\n * @name stringToU8a\n * @summary Creates a Uint8Array object from a utf-8 string.\n * @description\n * String input values return the actual encoded `UInt8Array`. `null` or `undefined` values returns an empty encoded array.\n * @example\n * <BR>\n *\n * ```javascript\n * import { stringToU8a } from '@polkadot/util';\n *\n * stringToU8a('hello'); // [0x68, 0x65, 0x6c, 0x6c, 0x6f]\n * ```\n */\n// eslint-disable-next-line @typescript-eslint/ban-types\n\nexport function stringToU8a(value) {\n  return value ? encoder.encode(value.toString()) : new Uint8Array();\n}","// Copyright 2017-2021 @polkadot/util authors & contributors\n// SPDX-License-Identifier: Apache-2.0\nimport { bufferToU8a } from \"../buffer/toU8a.mjs\";\nimport { hexToU8a } from \"../hex/toU8a.mjs\";\nimport { isBuffer } from \"../is/buffer.mjs\";\nimport { isHex } from \"../is/hex.mjs\";\nimport { isString } from \"../is/string.mjs\";\nimport { stringToU8a } from \"../string/toU8a.mjs\";\n\nfunction convertArray(value) {\n  return Array.isArray(value) ? Uint8Array.from(value) : value;\n}\n\nfunction convertString(value) {\n  return isHex(value) ? hexToU8a(value) : stringToU8a(value);\n}\n/**\n * @name u8aToU8a\n * @summary Creates a Uint8Array value from a Uint8Array, Buffer, string or hex input.\n * @description\n * `null` or `undefined` inputs returns a `[]` result, Uint8Array values returns the value, hex strings returns a Uint8Array representation.\n * @example\n * <BR>\n *\n * ```javascript\n * import { { u8aToU8a } from '@polkadot/util';\n *\n * u8aToU8a(new Uint8Array([0x12, 0x34]); // => Uint8Array([0x12, 0x34])\n * u8aToU8a(0x1234); // => Uint8Array([0x12, 0x34])\n * ```\n */\n\n\nexport function u8aToU8a(value) {\n  if (!value) {\n    return new Uint8Array();\n  } else if (isBuffer(value)) {\n    return bufferToU8a(value);\n  } else if (isString(value)) {\n    return convertString(value);\n  }\n\n  return convertArray(value);\n}","// Copyright 2017-2021 @polkadot/util authors & contributors\n// SPDX-License-Identifier: Apache-2.0\nimport { u8aToU8a } from \"./toU8a.mjs\";\n/**\n * @name u8aConcat\n * @summary Creates a concatenated Uint8Array from the inputs.\n * @description\n * Concatenates the input arrays into a single `UInt8Array`.\n * @example\n * <BR>\n *\n * ```javascript\n * import { { u8aConcat } from '@polkadot/util';\n *\n * u8aConcat(\n *   new Uint8Array([1, 2, 3]),\n *   new Uint8Array([4, 5, 6])\n * ); // [1, 2, 3, 4, 5, 6]\n * ```\n */\n\nexport function u8aConcat(...list) {\n  let length = 0;\n  let offset = 0;\n  const u8as = new Array(list.length);\n\n  for (let i = 0; i < list.length; i++) {\n    u8as[i] = u8aToU8a(list[i]);\n    length += u8as[i].length;\n  }\n\n  const result = new Uint8Array(length);\n\n  for (let i = 0; i < u8as.length; i++) {\n    result.set(u8as[i], offset);\n    offset += u8as[i].length;\n  }\n\n  return result;\n}","// Copyright 2017-2021 @polkadot/util authors & contributors\n// SPDX-License-Identifier: Apache-2.0\nconst ALPHABET = new Array(256).fill(0).map((_, n) => n.toString(16).padStart(2, '0'));\n/** @internal */\n\nfunction extract(value) {\n  const result = new Array(value.length);\n\n  for (let i = 0; i < value.length; i++) {\n    result[i] = ALPHABET[value[i]];\n  }\n\n  return result.join('');\n}\n/** @internal */\n\n\nfunction trim(value, halfLength) {\n  return `${u8aToHex(value.subarray(0, halfLength), -1, false)}…${u8aToHex(value.subarray(value.length - halfLength), -1, false)}`;\n}\n/**\n * @name u8aToHex\n * @summary Creates a hex string from a Uint8Array object.\n * @description\n * `UInt8Array` input values return the actual hex string. `null` or `undefined` values returns an `0x` string.\n * @example\n * <BR>\n *\n * ```javascript\n * import { u8aToHex } from '@polkadot/util';\n *\n * u8aToHex(new Uint8Array([0x68, 0x65, 0x6c, 0x6c, 0xf])); // 0x68656c0f\n * ```\n */\n\n\nexport function u8aToHex(value, bitLength = -1, isPrefixed = true) {\n  const prefix = isPrefixed ? '0x' : '';\n\n  if (!(value !== null && value !== void 0 && value.length)) {\n    return prefix;\n  }\n\n  const byteLength = Math.ceil(bitLength / 8);\n  return prefix + (byteLength > 0 && value.length > byteLength ? trim(value, Math.ceil(byteLength / 2)) : extract(value));\n}","// Copyright 2017-2021 @polkadot/util authors & contributors\n// SPDX-License-Identifier: Apache-2.0\n\n/**\n * @name isInstanceOf\n * @summary Tests for a instance of a class.\n * @description\n * Checks to see if the input value is an instance of the test class.\n * @example\n * <BR>\n *\n * ```javascript\n * import { isInstanceOf } from '@polkadot/util';\n *\n * console.log('isInstanceOf', isInstanceOf(new Array(0), Array)); // => true\n * ```\n */\n// eslint-disable-next-line @typescript-eslint/ban-types\nexport function isInstanceOf(value, clazz) {\n  return value instanceof clazz;\n}","// Copyright 2017-2021 @polkadot/util authors & contributors\n// SPDX-License-Identifier: Apache-2.0\nimport { isInstanceOf } from \"./instanceOf.mjs\";\n/**\n * @name isU8a\n * @summary Tests for a `Uint8Array` object instance.\n * @description\n * Checks to see if the input object is an instance of `Uint8Array`.\n * @example\n * <BR>\n *\n * ```javascript\n * import { isUint8Array } from '@polkadot/util';\n *\n * console.log('isU8a', isU8a([])); // => false\n * ```\n */\n\nexport function isU8a(value) {\n  return isInstanceOf(value, Uint8Array);\n}","/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */\n/* eslint-disable node/no-deprecated-api */\nvar buffer = require('buffer')\nvar Buffer = buffer.Buffer\n\n// alternative to using Object.keys for old browsers\nfunction copyProps (src, dst) {\n  for (var key in src) {\n    dst[key] = src[key]\n  }\n}\nif (Buffer.from && Buffer.alloc && Buffer.allocUnsafe && Buffer.allocUnsafeSlow) {\n  module.exports = buffer\n} else {\n  // Copy properties from require('buffer')\n  copyProps(buffer, exports)\n  exports.Buffer = SafeBuffer\n}\n\nfunction SafeBuffer (arg, encodingOrOffset, length) {\n  return Buffer(arg, encodingOrOffset, length)\n}\n\nSafeBuffer.prototype = Object.create(Buffer.prototype)\n\n// Copy static methods from Buffer\ncopyProps(Buffer, SafeBuffer)\n\nSafeBuffer.from = function (arg, encodingOrOffset, length) {\n  if (typeof arg === 'number') {\n    throw new TypeError('Argument must not be a number')\n  }\n  return Buffer(arg, encodingOrOffset, length)\n}\n\nSafeBuffer.alloc = function (size, fill, encoding) {\n  if (typeof size !== 'number') {\n    throw new TypeError('Argument must be a number')\n  }\n  var buf = Buffer(size)\n  if (fill !== undefined) {\n    if (typeof encoding === 'string') {\n      buf.fill(fill, encoding)\n    } else {\n      buf.fill(fill)\n    }\n  } else {\n    buf.fill(0)\n  }\n  return buf\n}\n\nSafeBuffer.allocUnsafe = function (size) {\n  if (typeof size !== 'number') {\n    throw new TypeError('Argument must be a number')\n  }\n  return Buffer(size)\n}\n\nSafeBuffer.allocUnsafeSlow = function (size) {\n  if (typeof size !== 'number') {\n    throw new TypeError('Argument must be a number')\n  }\n  return buffer.SlowBuffer(size)\n}\n","'use strict'\n// base-x encoding / decoding\n// Copyright (c) 2018 base-x contributors\n// Copyright (c) 2014-2018 The Bitcoin Core developers (base58.cpp)\n// Distributed under the MIT software license, see the accompanying\n// file LICENSE or http://www.opensource.org/licenses/mit-license.php.\n// @ts-ignore\nvar _Buffer = require('safe-buffer').Buffer\nfunction base (ALPHABET) {\n  if (ALPHABET.length >= 255) { throw new TypeError('Alphabet too long') }\n  var BASE_MAP = new Uint8Array(256)\n  for (var j = 0; j < BASE_MAP.length; j++) {\n    BASE_MAP[j] = 255\n  }\n  for (var i = 0; i < ALPHABET.length; i++) {\n    var x = ALPHABET.charAt(i)\n    var xc = x.charCodeAt(0)\n    if (BASE_MAP[xc] !== 255) { throw new TypeError(x + ' is ambiguous') }\n    BASE_MAP[xc] = i\n  }\n  var BASE = ALPHABET.length\n  var LEADER = ALPHABET.charAt(0)\n  var FACTOR = Math.log(BASE) / Math.log(256) // log(BASE) / log(256), rounded up\n  var iFACTOR = Math.log(256) / Math.log(BASE) // log(256) / log(BASE), rounded up\n  function encode (source) {\n    if (Array.isArray(source) || source instanceof Uint8Array) { source = _Buffer.from(source) }\n    if (!_Buffer.isBuffer(source)) { throw new TypeError('Expected Buffer') }\n    if (source.length === 0) { return '' }\n        // Skip & count leading zeroes.\n    var zeroes = 0\n    var length = 0\n    var pbegin = 0\n    var pend = source.length\n    while (pbegin !== pend && source[pbegin] === 0) {\n      pbegin++\n      zeroes++\n    }\n        // Allocate enough space in big-endian base58 representation.\n    var size = ((pend - pbegin) * iFACTOR + 1) >>> 0\n    var b58 = new Uint8Array(size)\n        // Process the bytes.\n    while (pbegin !== pend) {\n      var carry = source[pbegin]\n            // Apply \"b58 = b58 * 256 + ch\".\n      var i = 0\n      for (var it1 = size - 1; (carry !== 0 || i < length) && (it1 !== -1); it1--, i++) {\n        carry += (256 * b58[it1]) >>> 0\n        b58[it1] = (carry % BASE) >>> 0\n        carry = (carry / BASE) >>> 0\n      }\n      if (carry !== 0) { throw new Error('Non-zero carry') }\n      length = i\n      pbegin++\n    }\n        // Skip leading zeroes in base58 result.\n    var it2 = size - length\n    while (it2 !== size && b58[it2] === 0) {\n      it2++\n    }\n        // Translate the result into a string.\n    var str = LEADER.repeat(zeroes)\n    for (; it2 < size; ++it2) { str += ALPHABET.charAt(b58[it2]) }\n    return str\n  }\n  function decodeUnsafe (source) {\n    if (typeof source !== 'string') { throw new TypeError('Expected String') }\n    if (source.length === 0) { return _Buffer.alloc(0) }\n    var psz = 0\n        // Skip leading spaces.\n    if (source[psz] === ' ') { return }\n        // Skip and count leading '1's.\n    var zeroes = 0\n    var length = 0\n    while (source[psz] === LEADER) {\n      zeroes++\n      psz++\n    }\n        // Allocate enough space in big-endian base256 representation.\n    var size = (((source.length - psz) * FACTOR) + 1) >>> 0 // log(58) / log(256), rounded up.\n    var b256 = new Uint8Array(size)\n        // Process the characters.\n    while (source[psz]) {\n            // Decode character\n      var carry = BASE_MAP[source.charCodeAt(psz)]\n            // Invalid character\n      if (carry === 255) { return }\n      var i = 0\n      for (var it3 = size - 1; (carry !== 0 || i < length) && (it3 !== -1); it3--, i++) {\n        carry += (BASE * b256[it3]) >>> 0\n        b256[it3] = (carry % 256) >>> 0\n        carry = (carry / 256) >>> 0\n      }\n      if (carry !== 0) { throw new Error('Non-zero carry') }\n      length = i\n      psz++\n    }\n        // Skip trailing spaces.\n    if (source[psz] === ' ') { return }\n        // Skip leading zeroes in b256.\n    var it4 = size - length\n    while (it4 !== size && b256[it4] === 0) {\n      it4++\n    }\n    var vch = _Buffer.allocUnsafe(zeroes + (size - it4))\n    vch.fill(0x00, 0, zeroes)\n    var j = zeroes\n    while (it4 !== size) {\n      vch[j++] = b256[it4++]\n    }\n    return vch\n  }\n  function decode (string) {\n    var buffer = decodeUnsafe(string)\n    if (buffer) { return buffer }\n    throw new Error('Non-base' + BASE + ' character')\n  }\n  return {\n    encode: encode,\n    decodeUnsafe: decodeUnsafe,\n    decode: decode\n  }\n}\nmodule.exports = base\n","// Copyright 2017-2021 @polkadot/util-crypto authors & contributors\n// SPDX-License-Identifier: Apache-2.0\nimport baseX from 'base-x'; // https://github.com/cryptocoinjs/base-x#alphabets\n\nexport const BASE58_ALPHABET = '123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz';\nexport const bs58 = baseX(BASE58_ALPHABET);","// Copyright 2017-2021 @polkadot/util-crypto authors & contributors\n// SPDX-License-Identifier: Apache-2.0\nimport { assert } from '@polkadot/util';\nimport { BASE58_ALPHABET } from \"./bs58.mjs\";\nconst BASE_CONFIG = {\n  alphabet: BASE58_ALPHABET,\n  ipfsChar: 'z',\n  type: 'base58'\n};\nexport function validateChars({\n  alphabet,\n  ipfsChar,\n  type\n}, value, ipfsCompat) {\n  assert(value, `Expected non-null, non-empty ${type} input`);\n  assert(!ipfsCompat || value[0] === ipfsChar, `Expected ${type} to start with '${ipfsChar}'`);\n\n  for (let i = ipfsCompat ? 1 : 0; i < value.length; i++) {\n    assert(alphabet.includes(value[i]), `Invalid ${type} character \"${value[i]}\" (0x${value.charCodeAt(i).toString(16)}) at index ${i}`);\n  }\n\n  return true;\n}\n/**\n * @name base58Validate\n * @summary Validates a base58 value.\n * @description\n * Validates the the supplied value is valid base58\n */\n\nexport function base58Validate(value, ipfsCompat) {\n  return validateChars(BASE_CONFIG, value, ipfsCompat);\n}","// Copyright 2017-2021 @polkadot/util-crypto authors & contributors\n// SPDX-License-Identifier: Apache-2.0\nimport { bufferToU8a } from '@polkadot/util';\nimport { bs58 } from \"./bs58.mjs\";\nimport { base58Validate } from \"./validate.mjs\";\n/**\n * @name base58Decode\n * @summary Decodes a base58 value.\n * @description\n * From the provided input, decode the base58 and return the result as an `Uint8Array`.\n */\n\nexport function base58Decode(value, ipfsCompat) {\n  base58Validate(value, ipfsCompat);\n  return bufferToU8a(bs58.decode(value.substr(ipfsCompat ? 1 : 0)));\n}","var ERROR_MSG_INPUT = 'Input must be an string, Buffer or Uint8Array'\n\n// For convenience, let people hash a string, not just a Uint8Array\nfunction normalizeInput (input) {\n  var ret\n  if (input instanceof Uint8Array) {\n    ret = input\n  } else if (input instanceof Buffer) {\n    ret = new Uint8Array(input)\n  } else if (typeof (input) === 'string') {\n    ret = new Uint8Array(Buffer.from(input, 'utf8'))\n  } else {\n    throw new Error(ERROR_MSG_INPUT)\n  }\n  return ret\n}\n\n// Converts a Uint8Array to a hexadecimal string\n// For example, toHex([255, 0, 255]) returns \"ff00ff\"\nfunction toHex (bytes) {\n  return Array.prototype.map.call(bytes, function (n) {\n    return (n < 16 ? '0' : '') + n.toString(16)\n  }).join('')\n}\n\n// Converts any value in [0...2^32-1] to an 8-character hex string\nfunction uint32ToHex (val) {\n  return (0x100000000 + val).toString(16).substring(1)\n}\n\n// For debugging: prints out hash state in the same format as the RFC\n// sample computation exactly, so that you can diff\nfunction debugPrint (label, arr, size) {\n  var msg = '\\n' + label + ' = '\n  for (var i = 0; i < arr.length; i += 2) {\n    if (size === 32) {\n      msg += uint32ToHex(arr[i]).toUpperCase()\n      msg += ' '\n      msg += uint32ToHex(arr[i + 1]).toUpperCase()\n    } else if (size === 64) {\n      msg += uint32ToHex(arr[i + 1]).toUpperCase()\n      msg += uint32ToHex(arr[i]).toUpperCase()\n    } else throw new Error('Invalid size ' + size)\n    if (i % 6 === 4) {\n      msg += '\\n' + new Array(label.length + 4).join(' ')\n    } else if (i < arr.length - 2) {\n      msg += ' '\n    }\n  }\n  console.log(msg)\n}\n\n// For performance testing: generates N bytes of input, hashes M times\n// Measures and prints MB/second hash performance each time\nfunction testSpeed (hashFn, N, M) {\n  var startMs = new Date().getTime()\n\n  var input = new Uint8Array(N)\n  for (var i = 0; i < N; i++) {\n    input[i] = i % 256\n  }\n  var genMs = new Date().getTime()\n  console.log('Generated random input in ' + (genMs - startMs) + 'ms')\n  startMs = genMs\n\n  for (i = 0; i < M; i++) {\n    var hashHex = hashFn(input)\n    var hashMs = new Date().getTime()\n    var ms = hashMs - startMs\n    startMs = hashMs\n    console.log('Hashed in ' + ms + 'ms: ' + hashHex.substring(0, 20) + '...')\n    console.log(Math.round(N / (1 << 20) / (ms / 1000) * 100) / 100 + ' MB PER SECOND')\n  }\n}\n\nmodule.exports = {\n  normalizeInput: normalizeInput,\n  toHex: toHex,\n  debugPrint: debugPrint,\n  testSpeed: testSpeed\n}\n","// Blake2B in pure Javascript\n// Adapted from the reference implementation in RFC7693\n// Ported to Javascript by DC - https://github.com/dcposch\n\nvar util = require('./util')\n\n// 64-bit unsigned addition\n// Sets v[a,a+1] += v[b,b+1]\n// v should be a Uint32Array\nfunction ADD64AA (v, a, b) {\n  var o0 = v[a] + v[b]\n  var o1 = v[a + 1] + v[b + 1]\n  if (o0 >= 0x100000000) {\n    o1++\n  }\n  v[a] = o0\n  v[a + 1] = o1\n}\n\n// 64-bit unsigned addition\n// Sets v[a,a+1] += b\n// b0 is the low 32 bits of b, b1 represents the high 32 bits\nfunction ADD64AC (v, a, b0, b1) {\n  var o0 = v[a] + b0\n  if (b0 < 0) {\n    o0 += 0x100000000\n  }\n  var o1 = v[a + 1] + b1\n  if (o0 >= 0x100000000) {\n    o1++\n  }\n  v[a] = o0\n  v[a + 1] = o1\n}\n\n// Little-endian byte access\nfunction B2B_GET32 (arr, i) {\n  return (arr[i] ^\n  (arr[i + 1] << 8) ^\n  (arr[i + 2] << 16) ^\n  (arr[i + 3] << 24))\n}\n\n// G Mixing function\n// The ROTRs are inlined for speed\nfunction B2B_G (a, b, c, d, ix, iy) {\n  var x0 = m[ix]\n  var x1 = m[ix + 1]\n  var y0 = m[iy]\n  var y1 = m[iy + 1]\n\n  ADD64AA(v, a, b) // v[a,a+1] += v[b,b+1] ... in JS we must store a uint64 as two uint32s\n  ADD64AC(v, a, x0, x1) // v[a, a+1] += x ... x0 is the low 32 bits of x, x1 is the high 32 bits\n\n  // v[d,d+1] = (v[d,d+1] xor v[a,a+1]) rotated to the right by 32 bits\n  var xor0 = v[d] ^ v[a]\n  var xor1 = v[d + 1] ^ v[a + 1]\n  v[d] = xor1\n  v[d + 1] = xor0\n\n  ADD64AA(v, c, d)\n\n  // v[b,b+1] = (v[b,b+1] xor v[c,c+1]) rotated right by 24 bits\n  xor0 = v[b] ^ v[c]\n  xor1 = v[b + 1] ^ v[c + 1]\n  v[b] = (xor0 >>> 24) ^ (xor1 << 8)\n  v[b + 1] = (xor1 >>> 24) ^ (xor0 << 8)\n\n  ADD64AA(v, a, b)\n  ADD64AC(v, a, y0, y1)\n\n  // v[d,d+1] = (v[d,d+1] xor v[a,a+1]) rotated right by 16 bits\n  xor0 = v[d] ^ v[a]\n  xor1 = v[d + 1] ^ v[a + 1]\n  v[d] = (xor0 >>> 16) ^ (xor1 << 16)\n  v[d + 1] = (xor1 >>> 16) ^ (xor0 << 16)\n\n  ADD64AA(v, c, d)\n\n  // v[b,b+1] = (v[b,b+1] xor v[c,c+1]) rotated right by 63 bits\n  xor0 = v[b] ^ v[c]\n  xor1 = v[b + 1] ^ v[c + 1]\n  v[b] = (xor1 >>> 31) ^ (xor0 << 1)\n  v[b + 1] = (xor0 >>> 31) ^ (xor1 << 1)\n}\n\n// Initialization Vector\nvar BLAKE2B_IV32 = new Uint32Array([\n  0xF3BCC908, 0x6A09E667, 0x84CAA73B, 0xBB67AE85,\n  0xFE94F82B, 0x3C6EF372, 0x5F1D36F1, 0xA54FF53A,\n  0xADE682D1, 0x510E527F, 0x2B3E6C1F, 0x9B05688C,\n  0xFB41BD6B, 0x1F83D9AB, 0x137E2179, 0x5BE0CD19\n])\n\nvar SIGMA8 = [\n  0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15,\n  14, 10, 4, 8, 9, 15, 13, 6, 1, 12, 0, 2, 11, 7, 5, 3,\n  11, 8, 12, 0, 5, 2, 15, 13, 10, 14, 3, 6, 7, 1, 9, 4,\n  7, 9, 3, 1, 13, 12, 11, 14, 2, 6, 5, 10, 4, 0, 15, 8,\n  9, 0, 5, 7, 2, 4, 10, 15, 14, 1, 11, 12, 6, 8, 3, 13,\n  2, 12, 6, 10, 0, 11, 8, 3, 4, 13, 7, 5, 15, 14, 1, 9,\n  12, 5, 1, 15, 14, 13, 4, 10, 0, 7, 6, 3, 9, 2, 8, 11,\n  13, 11, 7, 14, 12, 1, 3, 9, 5, 0, 15, 4, 8, 6, 2, 10,\n  6, 15, 14, 9, 11, 3, 0, 8, 12, 2, 13, 7, 1, 4, 10, 5,\n  10, 2, 8, 4, 7, 6, 1, 5, 15, 11, 9, 14, 3, 12, 13, 0,\n  0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15,\n  14, 10, 4, 8, 9, 15, 13, 6, 1, 12, 0, 2, 11, 7, 5, 3\n]\n\n// These are offsets into a uint64 buffer.\n// Multiply them all by 2 to make them offsets into a uint32 buffer,\n// because this is Javascript and we don't have uint64s\nvar SIGMA82 = new Uint8Array(SIGMA8.map(function (x) { return x * 2 }))\n\n// Compression function. 'last' flag indicates last block.\n// Note we're representing 16 uint64s as 32 uint32s\nvar v = new Uint32Array(32)\nvar m = new Uint32Array(32)\nfunction blake2bCompress (ctx, last) {\n  var i = 0\n\n  // init work variables\n  for (i = 0; i < 16; i++) {\n    v[i] = ctx.h[i]\n    v[i + 16] = BLAKE2B_IV32[i]\n  }\n\n  // low 64 bits of offset\n  v[24] = v[24] ^ ctx.t\n  v[25] = v[25] ^ (ctx.t / 0x100000000)\n  // high 64 bits not supported, offset may not be higher than 2**53-1\n\n  // last block flag set ?\n  if (last) {\n    v[28] = ~v[28]\n    v[29] = ~v[29]\n  }\n\n  // get little-endian words\n  for (i = 0; i < 32; i++) {\n    m[i] = B2B_GET32(ctx.b, 4 * i)\n  }\n\n  // twelve rounds of mixing\n  // uncomment the DebugPrint calls to log the computation\n  // and match the RFC sample documentation\n  // util.debugPrint('          m[16]', m, 64)\n  for (i = 0; i < 12; i++) {\n    // util.debugPrint('   (i=' + (i < 10 ? ' ' : '') + i + ') v[16]', v, 64)\n    B2B_G(0, 8, 16, 24, SIGMA82[i * 16 + 0], SIGMA82[i * 16 + 1])\n    B2B_G(2, 10, 18, 26, SIGMA82[i * 16 + 2], SIGMA82[i * 16 + 3])\n    B2B_G(4, 12, 20, 28, SIGMA82[i * 16 + 4], SIGMA82[i * 16 + 5])\n    B2B_G(6, 14, 22, 30, SIGMA82[i * 16 + 6], SIGMA82[i * 16 + 7])\n    B2B_G(0, 10, 20, 30, SIGMA82[i * 16 + 8], SIGMA82[i * 16 + 9])\n    B2B_G(2, 12, 22, 24, SIGMA82[i * 16 + 10], SIGMA82[i * 16 + 11])\n    B2B_G(4, 14, 16, 26, SIGMA82[i * 16 + 12], SIGMA82[i * 16 + 13])\n    B2B_G(6, 8, 18, 28, SIGMA82[i * 16 + 14], SIGMA82[i * 16 + 15])\n  }\n  // util.debugPrint('   (i=12) v[16]', v, 64)\n\n  for (i = 0; i < 16; i++) {\n    ctx.h[i] = ctx.h[i] ^ v[i] ^ v[i + 16]\n  }\n  // util.debugPrint('h[8]', ctx.h, 64)\n}\n\n// Creates a BLAKE2b hashing context\n// Requires an output length between 1 and 64 bytes\n// Takes an optional Uint8Array key\nfunction blake2bInit (outlen, key) {\n  if (outlen === 0 || outlen > 64) {\n    throw new Error('Illegal output length, expected 0 < length <= 64')\n  }\n  if (key && key.length > 64) {\n    throw new Error('Illegal key, expected Uint8Array with 0 < length <= 64')\n  }\n\n  // state, 'param block'\n  var ctx = {\n    b: new Uint8Array(128),\n    h: new Uint32Array(16),\n    t: 0, // input count\n    c: 0, // pointer within buffer\n    outlen: outlen // output length in bytes\n  }\n\n  // initialize hash state\n  for (var i = 0; i < 16; i++) {\n    ctx.h[i] = BLAKE2B_IV32[i]\n  }\n  var keylen = key ? key.length : 0\n  ctx.h[0] ^= 0x01010000 ^ (keylen << 8) ^ outlen\n\n  // key the hash, if applicable\n  if (key) {\n    blake2bUpdate(ctx, key)\n    // at the end\n    ctx.c = 128\n  }\n\n  return ctx\n}\n\n// Updates a BLAKE2b streaming hash\n// Requires hash context and Uint8Array (byte array)\nfunction blake2bUpdate (ctx, input) {\n  for (var i = 0; i < input.length; i++) {\n    if (ctx.c === 128) { // buffer full ?\n      ctx.t += ctx.c // add counters\n      blake2bCompress(ctx, false) // compress (not last)\n      ctx.c = 0 // counter to zero\n    }\n    ctx.b[ctx.c++] = input[i]\n  }\n}\n\n// Completes a BLAKE2b streaming hash\n// Returns a Uint8Array containing the message digest\nfunction blake2bFinal (ctx) {\n  ctx.t += ctx.c // mark last block offset\n\n  while (ctx.c < 128) { // fill up with zeros\n    ctx.b[ctx.c++] = 0\n  }\n  blake2bCompress(ctx, true) // final block flag = 1\n\n  // little endian convert and store\n  var out = new Uint8Array(ctx.outlen)\n  for (var i = 0; i < ctx.outlen; i++) {\n    out[i] = ctx.h[i >> 2] >> (8 * (i & 3))\n  }\n  return out\n}\n\n// Computes the BLAKE2B hash of a string or byte array, and returns a Uint8Array\n//\n// Returns a n-byte Uint8Array\n//\n// Parameters:\n// - input - the input bytes, as a string, Buffer or Uint8Array\n// - key - optional key Uint8Array, up to 64 bytes\n// - outlen - optional output length in bytes, default 64\nfunction blake2b (input, key, outlen) {\n  // preprocess inputs\n  outlen = outlen || 64\n  input = util.normalizeInput(input)\n\n  // do the math\n  var ctx = blake2bInit(outlen, key)\n  blake2bUpdate(ctx, input)\n  return blake2bFinal(ctx)\n}\n\n// Computes the BLAKE2B hash of a string or byte array\n//\n// Returns an n-byte hash in hex, all lowercase\n//\n// Parameters:\n// - input - the input bytes, as a string, Buffer, or Uint8Array\n// - key - optional key Uint8Array, up to 64 bytes\n// - outlen - optional output length in bytes, default 64\nfunction blake2bHex (input, key, outlen) {\n  var output = blake2b(input, key, outlen)\n  return util.toHex(output)\n}\n\nmodule.exports = {\n  blake2b: blake2b,\n  blake2bHex: blake2bHex,\n  blake2bInit: blake2bInit,\n  blake2bUpdate: blake2bUpdate,\n  blake2bFinal: blake2bFinal\n}\n","// BLAKE2s hash function in pure Javascript\n// Adapted from the reference implementation in RFC7693\n// Ported to Javascript by DC - https://github.com/dcposch\n\nvar util = require('./util')\n\n// Little-endian byte access.\n// Expects a Uint8Array and an index\n// Returns the little-endian uint32 at v[i..i+3]\nfunction B2S_GET32 (v, i) {\n  return v[i] ^ (v[i + 1] << 8) ^ (v[i + 2] << 16) ^ (v[i + 3] << 24)\n}\n\n// Mixing function G.\nfunction B2S_G (a, b, c, d, x, y) {\n  v[a] = v[a] + v[b] + x\n  v[d] = ROTR32(v[d] ^ v[a], 16)\n  v[c] = v[c] + v[d]\n  v[b] = ROTR32(v[b] ^ v[c], 12)\n  v[a] = v[a] + v[b] + y\n  v[d] = ROTR32(v[d] ^ v[a], 8)\n  v[c] = v[c] + v[d]\n  v[b] = ROTR32(v[b] ^ v[c], 7)\n}\n\n// 32-bit right rotation\n// x should be a uint32\n// y must be between 1 and 31, inclusive\nfunction ROTR32 (x, y) {\n  return (x >>> y) ^ (x << (32 - y))\n}\n\n// Initialization Vector.\nvar BLAKE2S_IV = new Uint32Array([\n  0x6A09E667, 0xBB67AE85, 0x3C6EF372, 0xA54FF53A,\n  0x510E527F, 0x9B05688C, 0x1F83D9AB, 0x5BE0CD19])\n\nvar SIGMA = new Uint8Array([\n  0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15,\n  14, 10, 4, 8, 9, 15, 13, 6, 1, 12, 0, 2, 11, 7, 5, 3,\n  11, 8, 12, 0, 5, 2, 15, 13, 10, 14, 3, 6, 7, 1, 9, 4,\n  7, 9, 3, 1, 13, 12, 11, 14, 2, 6, 5, 10, 4, 0, 15, 8,\n  9, 0, 5, 7, 2, 4, 10, 15, 14, 1, 11, 12, 6, 8, 3, 13,\n  2, 12, 6, 10, 0, 11, 8, 3, 4, 13, 7, 5, 15, 14, 1, 9,\n  12, 5, 1, 15, 14, 13, 4, 10, 0, 7, 6, 3, 9, 2, 8, 11,\n  13, 11, 7, 14, 12, 1, 3, 9, 5, 0, 15, 4, 8, 6, 2, 10,\n  6, 15, 14, 9, 11, 3, 0, 8, 12, 2, 13, 7, 1, 4, 10, 5,\n  10, 2, 8, 4, 7, 6, 1, 5, 15, 11, 9, 14, 3, 12, 13, 0])\n\n// Compression function. \"last\" flag indicates last block\nvar v = new Uint32Array(16)\nvar m = new Uint32Array(16)\nfunction blake2sCompress (ctx, last) {\n  var i = 0\n  for (i = 0; i < 8; i++) { // init work variables\n    v[i] = ctx.h[i]\n    v[i + 8] = BLAKE2S_IV[i]\n  }\n\n  v[12] ^= ctx.t // low 32 bits of offset\n  v[13] ^= (ctx.t / 0x100000000) // high 32 bits\n  if (last) { // last block flag set ?\n    v[14] = ~v[14]\n  }\n\n  for (i = 0; i < 16; i++) { // get little-endian words\n    m[i] = B2S_GET32(ctx.b, 4 * i)\n  }\n\n  // ten rounds of mixing\n  // uncomment the DebugPrint calls to log the computation\n  // and match the RFC sample documentation\n  // util.debugPrint('          m[16]', m, 32)\n  for (i = 0; i < 10; i++) {\n    // util.debugPrint('   (i=' + i + ')  v[16]', v, 32)\n    B2S_G(0, 4, 8, 12, m[SIGMA[i * 16 + 0]], m[SIGMA[i * 16 + 1]])\n    B2S_G(1, 5, 9, 13, m[SIGMA[i * 16 + 2]], m[SIGMA[i * 16 + 3]])\n    B2S_G(2, 6, 10, 14, m[SIGMA[i * 16 + 4]], m[SIGMA[i * 16 + 5]])\n    B2S_G(3, 7, 11, 15, m[SIGMA[i * 16 + 6]], m[SIGMA[i * 16 + 7]])\n    B2S_G(0, 5, 10, 15, m[SIGMA[i * 16 + 8]], m[SIGMA[i * 16 + 9]])\n    B2S_G(1, 6, 11, 12, m[SIGMA[i * 16 + 10]], m[SIGMA[i * 16 + 11]])\n    B2S_G(2, 7, 8, 13, m[SIGMA[i * 16 + 12]], m[SIGMA[i * 16 + 13]])\n    B2S_G(3, 4, 9, 14, m[SIGMA[i * 16 + 14]], m[SIGMA[i * 16 + 15]])\n  }\n  // util.debugPrint('   (i=10) v[16]', v, 32)\n\n  for (i = 0; i < 8; i++) {\n    ctx.h[i] ^= v[i] ^ v[i + 8]\n  }\n  // util.debugPrint('h[8]', ctx.h, 32)\n}\n\n// Creates a BLAKE2s hashing context\n// Requires an output length between 1 and 32 bytes\n// Takes an optional Uint8Array key\nfunction blake2sInit (outlen, key) {\n  if (!(outlen > 0 && outlen <= 32)) {\n    throw new Error('Incorrect output length, should be in [1, 32]')\n  }\n  var keylen = key ? key.length : 0\n  if (key && !(keylen > 0 && keylen <= 32)) {\n    throw new Error('Incorrect key length, should be in [1, 32]')\n  }\n\n  var ctx = {\n    h: new Uint32Array(BLAKE2S_IV), // hash state\n    b: new Uint32Array(64), // input block\n    c: 0, // pointer within block\n    t: 0, // input count\n    outlen: outlen // output length in bytes\n  }\n  ctx.h[0] ^= 0x01010000 ^ (keylen << 8) ^ outlen\n\n  if (keylen > 0) {\n    blake2sUpdate(ctx, key)\n    ctx.c = 64 // at the end\n  }\n\n  return ctx\n}\n\n// Updates a BLAKE2s streaming hash\n// Requires hash context and Uint8Array (byte array)\nfunction blake2sUpdate (ctx, input) {\n  for (var i = 0; i < input.length; i++) {\n    if (ctx.c === 64) { // buffer full ?\n      ctx.t += ctx.c // add counters\n      blake2sCompress(ctx, false) // compress (not last)\n      ctx.c = 0 // counter to zero\n    }\n    ctx.b[ctx.c++] = input[i]\n  }\n}\n\n// Completes a BLAKE2s streaming hash\n// Returns a Uint8Array containing the message digest\nfunction blake2sFinal (ctx) {\n  ctx.t += ctx.c // mark last block offset\n  while (ctx.c < 64) { // fill up with zeros\n    ctx.b[ctx.c++] = 0\n  }\n  blake2sCompress(ctx, true) // final block flag = 1\n\n  // little endian convert and store\n  var out = new Uint8Array(ctx.outlen)\n  for (var i = 0; i < ctx.outlen; i++) {\n    out[i] = (ctx.h[i >> 2] >> (8 * (i & 3))) & 0xFF\n  }\n  return out\n}\n\n// Computes the BLAKE2S hash of a string or byte array, and returns a Uint8Array\n//\n// Returns a n-byte Uint8Array\n//\n// Parameters:\n// - input - the input bytes, as a string, Buffer, or Uint8Array\n// - key - optional key Uint8Array, up to 32 bytes\n// - outlen - optional output length in bytes, default 64\nfunction blake2s (input, key, outlen) {\n  // preprocess inputs\n  outlen = outlen || 32\n  input = util.normalizeInput(input)\n\n  // do the math\n  var ctx = blake2sInit(outlen, key)\n  blake2sUpdate(ctx, input)\n  return blake2sFinal(ctx)\n}\n\n// Computes the BLAKE2S hash of a string or byte array\n//\n// Returns an n-byte hash in hex, all lowercase\n//\n// Parameters:\n// - input - the input bytes, as a string, Buffer, or Uint8Array\n// - key - optional key Uint8Array, up to 32 bytes\n// - outlen - optional output length in bytes, default 64\nfunction blake2sHex (input, key, outlen) {\n  var output = blake2s(input, key, outlen)\n  return util.toHex(output)\n}\n\nmodule.exports = {\n  blake2s: blake2s,\n  blake2sHex: blake2sHex,\n  blake2sInit: blake2sInit,\n  blake2sUpdate: blake2sUpdate,\n  blake2sFinal: blake2sFinal\n}\n","var b2b = require('./blake2b')\nvar b2s = require('./blake2s')\n\nmodule.exports = {\n  blake2b: b2b.blake2b,\n  blake2bHex: b2b.blake2bHex,\n  blake2bInit: b2b.blake2bInit,\n  blake2bUpdate: b2b.blake2bUpdate,\n  blake2bFinal: b2b.blake2bFinal,\n  blake2s: b2s.blake2s,\n  blake2sHex: b2s.blake2sHex,\n  blake2sInit: b2s.blake2sInit,\n  blake2sUpdate: b2s.blake2sUpdate,\n  blake2sFinal: b2s.blake2sFinal\n}\n","// Copyright 2017-2021 @polkadot/util-crypto authors & contributors\n// SPDX-License-Identifier: Apache-2.0\nimport js from 'blakejs';\nimport { u8aToU8a } from '@polkadot/util';\nimport { blake2b, isReady } from '@polkadot/wasm-crypto';\n/**\n * @name blake2AsU8a\n * @summary Creates a blake2b u8a from the input.\n * @description\n * From a `Uint8Array` input, create the blake2b and return the result as a u8a with the specified `bitLength`.\n * @example\n * <BR>\n *\n * ```javascript\n * import { blake2AsU8a } from '@polkadot/util-crypto';\n *\n * blake2AsU8a('abc'); // => [0xba, 0x80, 0xa53, 0xf98, 0x1c, 0x4d, 0x0d]\n * ```\n */\n\nexport function blake2AsU8a(data, bitLength = 256, key = null, onlyJs = false) {\n  const byteLength = Math.ceil(bitLength / 8);\n  return isReady() && !onlyJs ? blake2b(u8aToU8a(data), u8aToU8a(key), byteLength) : js.blake2b(u8aToU8a(data), key, byteLength);\n}","// Copyright 2017-2021 @polkadot/util-crypto authors & contributors\n// SPDX-License-Identifier: Apache-2.0\nimport { stringToU8a, u8aConcat } from '@polkadot/util';\nimport { blake2AsU8a } from \"../blake2/asU8a.mjs\";\nconst SS58_PREFIX = stringToU8a('SS58PRE');\nexport function sshash(key) {\n  return blake2AsU8a(u8aConcat(SS58_PREFIX, key), 512);\n}","// Copyright 2017-2021 @polkadot/util-crypto authors & contributors\n// SPDX-License-Identifier: Apache-2.0\nimport { sshash } from \"./sshash.mjs\";\nexport function checkAddressChecksum(decoded) {\n  const ss58Length = decoded[0] & 0b01000000 ? 2 : 1;\n  const ss58Decoded = ss58Length === 1 ? decoded[0] : (decoded[0] & 0b00111111) << 2 | decoded[1] >> 6 | (decoded[1] & 0b00111111) << 8; // 32/33 bytes public + 2 bytes checksum + prefix\n\n  const isPublicKey = [34 + ss58Length, 35 + ss58Length].includes(decoded.length);\n  const length = decoded.length - (isPublicKey ? 2 : 1); // calculate the hash and do the checksum byte checks\n\n  const hash = sshash(decoded.subarray(0, length));\n  const isValid = (decoded[0] & 0b10000000) === 0 && ![46, 47].includes(decoded[0]) && (isPublicKey ? decoded[decoded.length - 2] === hash[0] && decoded[decoded.length - 1] === hash[1] : decoded[decoded.length - 1] === hash[0]);\n  return [isValid, length, ss58Length, ss58Decoded];\n}","import _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\n// Copyright 2017-2021 @polkadot/networks authors & contributors\n// SPDX-License-Identifier: Apache-2.0\n// This contains exactly the same information as available in (with some extensions)\n// https://raw.githubusercontent.com/paritytech/substrate/master/ss58-registry.json\n//\n// Once the above is published as a package, the duplication here can be removed\nexport { packageInfo } from \"./packageInfo.mjs\"; // These are known prefixes that are not sorted\n\nconst UNSORTED = [0, 2, 42]; // NOTE: In the case where the network was hard-spooned and multiple genesisHashes\n// are provided, it needs to be in reverse order, i.e. most-recent first, oldest\n// last. This make lookups for the current a simple genesisHash[0]\n// (See Kusama as an example)\n\nconst createReserved = (prefix, displayName, network = null) => ({\n  decimals: null,\n  displayName,\n  isIgnored: true,\n  network,\n  prefix,\n  standardAccount: null,\n  symbols: null,\n  website: null\n});\n\nexport const all = [{\n  decimals: [10],\n  displayName: 'Polkadot Relay Chain',\n  genesisHash: ['0x91b171bb158e2d3848fa23a9f1c25182fb8e20313b2c1eb49219da7a70ce90c3'],\n  hasLedgerSupport: true,\n  icon: 'polkadot',\n  network: 'polkadot',\n  prefix: 0,\n  slip44: 0x00000162,\n  standardAccount: '*25519',\n  symbols: ['DOT'],\n  website: 'https://polkadot.network'\n}, createReserved(1, 'Bare 32-bit Schnorr/Ristretto (S/R 25519) public key.'), {\n  decimals: [12],\n  displayName: 'Kusama Relay Chain',\n  genesisHash: ['0xb0a8d493285c2df73290dfb7e61f870f17b41801197a149ca93654499ea3dafe', // Kusama CC3,\n  '0xe3777fa922cafbff200cadeaea1a76bd7898ad5b89f7848999058b50e715f636', // Kusama CC2\n  '0x3fd7b9eb6a00376e5be61f01abb429ffb0b104be05eaff4d458da48fcd425baf' // Kusama CC1\n  ],\n  hasLedgerSupport: true,\n  icon: 'polkadot',\n  network: 'kusama',\n  prefix: 2,\n  slip44: 0x000001b2,\n  standardAccount: '*25519',\n  symbols: ['KSM'],\n  website: 'https://kusama.network'\n}, createReserved(3, 'Bare 32-bit Ed25519 public key.'), {\n  decimals: null,\n  displayName: 'Katal Chain',\n  network: 'katalchain',\n  prefix: 4,\n  standardAccount: '*25519',\n  symbols: null,\n  website: null\n}, {\n  decimals: null,\n  displayName: 'Plasm Network',\n  genesisHash: ['0x3e86364d4b4894021cb2a0390bcf2feb5517d5292f2de2bb9404227e908b0b8b'],\n  network: 'plasm',\n  prefix: 5,\n  standardAccount: '*25519',\n  symbols: ['PLM'],\n  website: null\n}, {\n  decimals: [12],\n  displayName: 'Bifrost',\n  network: 'bifrost',\n  prefix: 6,\n  standardAccount: '*25519',\n  symbols: ['BNC'],\n  website: 'https://bifrost.finance/'\n}, {\n  decimals: [18],\n  displayName: 'Edgeware',\n  genesisHash: ['0x742a2ca70c2fda6cee4f8df98d64c4c670a052d9568058982dad9d5a7a135c5b'],\n  network: 'edgeware',\n  prefix: 7,\n  standardAccount: '*25519',\n  symbols: ['EDG'],\n  website: 'https://edgewa.re'\n}, {\n  decimals: [18],\n  displayName: 'Acala Karura Canary',\n  network: 'karura',\n  prefix: 8,\n  standardAccount: '*25519',\n  symbols: ['KAR'],\n  website: 'https://acala.network/'\n}, {\n  decimals: [18],\n  displayName: 'Laminar Reynolds Canary',\n  network: 'reynolds',\n  prefix: 9,\n  standardAccount: '*25519',\n  symbols: ['REY'],\n  website: 'http://laminar.network/'\n}, {\n  decimals: [18],\n  displayName: 'Acala',\n  network: 'acala',\n  prefix: 10,\n  standardAccount: '*25519',\n  symbols: ['ACA'],\n  website: 'https://acala.network/'\n}, {\n  decimals: [18],\n  displayName: 'Laminar',\n  network: 'laminar',\n  prefix: 11,\n  standardAccount: '*25519',\n  symbols: ['LAMI'],\n  website: 'http://laminar.network/'\n}, {\n  decimals: [6],\n  displayName: 'Polymesh',\n  genesisHash: ['0x12fddc9e2128b3fe571e4e5427addcb87fcaf08493867a68dd6ae44b406b39c7'],\n  hasLedgerSupport: true,\n  network: 'polymesh',\n  prefix: 12,\n  slip44: 0x00000253,\n  standardAccount: '*25519',\n  symbols: ['POLYX'],\n  website: 'https://polymath.network/'\n}, {\n  decimals: null,\n  displayName: 'SubstraTEE',\n  network: 'substratee',\n  prefix: 13,\n  standardAccount: '*25519',\n  symbols: null,\n  website: 'https://www.substratee.com'\n}, {\n  decimals: [0],\n  displayName: 'Totem',\n  network: 'totem',\n  prefix: 14,\n  standardAccount: '*25519',\n  symbols: ['XTX'],\n  website: 'https://totemaccounting.com'\n}, {\n  decimals: [12],\n  displayName: 'Synesthesia',\n  network: 'synesthesia',\n  prefix: 15,\n  standardAccount: '*25519',\n  symbols: ['SYN'],\n  website: 'https://synesthesia.network/'\n}, {\n  decimals: [12],\n  displayName: 'Kulupu',\n  genesisHash: ['0xf7a99d3cb92853d00d5275c971c132c074636256583fee53b3bbe60d7b8769ba'],\n  network: 'kulupu',\n  prefix: 16,\n  standardAccount: '*25519',\n  symbols: ['KLP'],\n  website: 'https://kulupu.network/'\n}, {\n  decimals: null,\n  displayName: 'Dark Mainnet',\n  network: 'dark',\n  prefix: 17,\n  standardAccount: '*25519',\n  symbols: null,\n  website: null\n}, {\n  decimals: [9, 9],\n  displayName: 'Darwinia Network',\n  network: 'darwinia',\n  prefix: 18,\n  standardAccount: '*25519',\n  symbols: ['RING', 'KTON'],\n  website: 'https://darwinia.network/'\n}, {\n  decimals: [12],\n  displayName: 'GeekCash',\n  network: 'geek',\n  prefix: 19,\n  standardAccount: '*25519',\n  symbols: ['GEEK'],\n  website: 'https://geekcash.org'\n}, {\n  decimals: [12],\n  displayName: 'Stafi',\n  genesisHash: ['0x290a4149f09ea0e402c74c1c7e96ae4239588577fe78932f94f5404c68243d80'],\n  network: 'stafi',\n  prefix: 20,\n  standardAccount: '*25519',\n  symbols: ['FIS'],\n  website: 'https://stafi.io'\n}, {\n  decimals: [6],\n  displayName: 'Dock Testnet',\n  isIgnored: true,\n  // testnet\n  network: 'dock-testnet',\n  prefix: 21,\n  standardAccount: '*25519',\n  symbols: ['DCK'],\n  website: 'https://dock.io'\n}, {\n  decimals: [6],\n  displayName: 'Dock Mainnet',\n  genesisHash: ['0xf73467c6544aa68df2ee546b135f955c46b90fa627e9b5d7935f41061bb8a5a9'],\n  hasLedgerSupport: true,\n  network: 'dock-mainnet',\n  prefix: 22,\n  slip44: 0x00000252,\n  standardAccount: '*25519',\n  symbols: ['DCK'],\n  website: 'https://dock.io'\n}, {\n  decimals: null,\n  displayName: 'ShiftNrg',\n  network: 'shift',\n  prefix: 23,\n  standardAccount: '*25519',\n  symbols: null,\n  website: null\n}, {\n  decimals: [18],\n  displayName: 'ZERO',\n  network: 'zero',\n  prefix: 24,\n  standardAccount: '*25519',\n  symbols: ['PLAY'],\n  website: 'https://zero.io'\n}, {\n  decimals: [18],\n  displayName: 'ZERO Alphaville',\n  isIgnored: true,\n  // testnet\n  network: 'zero-alphaville',\n  prefix: 25,\n  standardAccount: '*25519',\n  symbols: ['PLAY'],\n  website: 'https://zero.io'\n}, {\n  decimals: [10],\n  displayName: 'Jupiter',\n  isIgnored: true,\n  // testnet\n  network: 'jupiter',\n  prefix: 26,\n  standardAccount: '*25519',\n  symbols: ['jDOT'],\n  website: 'https://jupiter.patract.io'\n}, {\n  decimals: [10, 12],\n  displayName: 'Patract',\n  network: 'patract',\n  prefix: 27,\n  standardAccount: '*25519',\n  symbols: ['pDOT', 'pKSM'],\n  website: 'https://patract.network'\n}, {\n  decimals: null,\n  displayName: 'Subsocial',\n  genesisHash: ['0x0bd72c1c305172e1275278aaeb3f161e02eccb7a819e63f62d47bd53a28189f8'],\n  network: 'subsocial',\n  prefix: 28,\n  standardAccount: '*25519',\n  symbols: null,\n  website: null\n}, {\n  decimals: [18],\n  displayName: 'Dhiway CORD Network',\n  network: 'cord',\n  prefix: 29,\n  standardAccount: '*25519',\n  symbols: ['DCU'],\n  website: 'https://dhiway.com/'\n}, {\n  decimals: [12],\n  displayName: 'Phala Network',\n  network: 'phala',\n  prefix: 30,\n  standardAccount: '*25519',\n  symbols: ['PHA'],\n  website: 'https://phala.network'\n}, {\n  decimals: [12],\n  displayName: 'Litentry Network',\n  network: 'litentry',\n  prefix: 31,\n  standardAccount: '*25519',\n  symbols: ['LIT'],\n  website: 'https://litentry.com/'\n}, {\n  decimals: [9],\n  displayName: 'Robonomics',\n  network: 'robonomics',\n  prefix: 32,\n  standardAccount: '*25519',\n  symbols: ['XRT'],\n  website: 'https://robonomics.network'\n}, {\n  decimals: null,\n  displayName: 'DataHighway',\n  network: 'datahighway',\n  prefix: 33,\n  standardAccount: '*25519',\n  symbols: null,\n  website: null\n}, {\n  decimals: [12],\n  displayName: 'Ares Protocol',\n  network: 'ares',\n  prefix: 34,\n  standardAccount: '*25519',\n  symbols: ['ARES'],\n  website: 'https://www.aresprotocol.com/'\n}, {\n  decimals: [15],\n  displayName: 'Valiu Liquidity Network',\n  network: 'vln',\n  prefix: 35,\n  standardAccount: '*25519',\n  symbols: ['USDv'],\n  website: 'https://valiu.com/'\n}, {\n  decimals: [18],\n  displayName: 'Centrifuge Chain',\n  network: 'centrifuge',\n  prefix: 36,\n  standardAccount: '*25519',\n  symbols: ['RAD'],\n  website: 'https://centrifuge.io/'\n}, {\n  decimals: [18],\n  displayName: 'Nodle Chain',\n  network: 'nodle',\n  prefix: 37,\n  standardAccount: '*25519',\n  symbols: ['NODL'],\n  website: 'https://nodle.io/'\n}, {\n  decimals: [18],\n  displayName: 'KILT Chain',\n  network: 'kilt',\n  prefix: 38,\n  standardAccount: '*25519',\n  symbols: ['KILT'],\n  website: 'https://kilt.io/'\n}, {\n  decimals: [18],\n  displayName: 'MathChain mainnet',\n  network: 'mathchain',\n  prefix: 39,\n  standardAccount: '*25519',\n  symbols: ['MATH'],\n  website: 'https://mathwallet.org'\n}, {\n  decimals: [18],\n  displayName: 'MathChain testnet',\n  isIgnored: true,\n  // testnet\n  network: 'mathchain-testnet',\n  prefix: 40,\n  standardAccount: '*25519',\n  symbols: ['MATH'],\n  website: 'https://mathwallet.org'\n}, {\n  decimals: null,\n  displayName: 'Polimec Chain',\n  network: 'poli',\n  prefix: 41,\n  standardAccount: '*25519',\n  symbols: null,\n  website: 'https://polimec.io/'\n}, {\n  decimals: null,\n  displayName: 'Substrate',\n  network: 'substrate',\n  prefix: 42,\n  standardAccount: '*25519',\n  symbols: null,\n  website: 'https://substrate.dev/'\n}, createReserved(43, 'Bare 32-bit ECDSA SECP-256k1 public key.'), {\n  decimals: [8],\n  displayName: 'ChainX',\n  network: 'chainx',\n  prefix: 44,\n  standardAccount: '*25519',\n  symbols: ['PCX'],\n  website: 'https://chainx.org/'\n}, {\n  decimals: [12, 12],\n  displayName: 'UniArts Network',\n  network: 'uniarts',\n  prefix: 45,\n  standardAccount: '*25519',\n  symbols: ['UART', 'UINK'],\n  website: 'https://uniarts.me'\n}, createReserved(46, 'This prefix is reserved.', 'reserved46'), createReserved(47, 'This prefix is reserved.', 'reserved47'), {\n  decimals: [12],\n  displayName: 'Neatcoin Mainnet',\n  network: 'neatcoin',\n  prefix: 48,\n  standardAccount: '*25519',\n  symbols: ['NEAT'],\n  website: 'https://neatcoin.org'\n}, {\n  decimals: [12],\n  displayName: 'HydraDX',\n  network: 'hydradx',\n  prefix: 63,\n  standardAccount: '*25519',\n  symbols: ['HDX'],\n  website: 'https://hydradx.io'\n}, {\n  decimals: [18],\n  displayName: 'AvN Mainnet',\n  network: 'aventus',\n  prefix: 65,\n  standardAccount: '*25519',\n  symbols: ['AVT'],\n  website: 'https://aventus.io'\n}, {\n  decimals: [12],\n  displayName: 'Crust Network',\n  network: 'crust',\n  prefix: 66,\n  standardAccount: '*25519',\n  symbols: ['CRU'],\n  website: 'https://crust.network'\n}]; // The list of available/claimed prefixes\n//   - no testnets\n//   - we only include those where we have a standardAccount\n//   - when no icon has been specified, default to substrate\n//   - sort by name, however we keep 0, 2, 42 first in the list\n\nexport const available = all.filter(n => !n.isIgnored && !!n.network).map(n => _objectSpread(_objectSpread({}, n), {}, {\n  genesisHash: n.genesisHash || [],\n  icon: n.icon || 'substrate'\n})).sort((a, b) => UNSORTED.includes(a.prefix) && UNSORTED.includes(b.prefix) ? 0 : UNSORTED.includes(a.prefix) ? -1 : UNSORTED.includes(b.prefix) ? 1 : a.displayName.localeCompare(b.displayName)); // A filtered list of those chains we have details about (genesisHashes)\n\nexport default available.filter(n => n.genesisHash.length || n.prefix === 42);","// Copyright 2017-2021 @polkadot/util-crypto authors & contributors\n// SPDX-License-Identifier: Apache-2.0\nimport { available } from '@polkadot/networks';\nexport const defaults = {\n  allowedDecodedLengths: [1, 2, 4, 8, 32, 33],\n  // publicKey has prefix + 2 checksum bytes, short only prefix + 1 checksum byte\n  allowedEncodedLengths: [3, 4, 6, 10, 35, 36, 37, 38],\n  allowedPrefix: available.map(({\n    prefix\n  }) => prefix),\n  prefix: 42\n};","// Copyright 2017-2021 @polkadot/util-crypto authors & contributors\n// SPDX-License-Identifier: Apache-2.0\n// Original implementation: https://github.com/paritytech/polka-ui/blob/4858c094684769080f5811f32b081dd7780b0880/src/polkadot.js#L6\nimport { assert, isHex, isU8a, u8aToU8a } from '@polkadot/util';\nimport { base58Decode } from \"../base58/decode.mjs\";\nimport { checkAddressChecksum } from \"./checksum.mjs\";\nimport { defaults } from \"./defaults.mjs\";\nexport function decodeAddress(encoded, ignoreChecksum, ss58Format = -1) {\n  if (isU8a(encoded) || isHex(encoded)) {\n    return u8aToU8a(encoded);\n  }\n\n  try {\n    const decoded = base58Decode(encoded);\n    assert(defaults.allowedEncodedLengths.includes(decoded.length), 'Invalid decoded address length');\n    const [isValid, endPos, ss58Length, ss58Decoded] = checkAddressChecksum(decoded);\n    assert(ignoreChecksum || isValid, 'Invalid decoded address checksum');\n    assert([-1, ss58Decoded].includes(ss58Format), `Expected ss58Format ${ss58Format}, received ${ss58Decoded}`);\n    return decoded.slice(ss58Length, endPos);\n  } catch (error) {\n    throw new Error(`Decoding ${encoded}: ${error.message}`);\n  }\n}","import { ApiPromise, WsProvider } from \"@polkadot/api\";\nimport { stringToHex } from \"@polkadot/util\";\nimport { URL } from \"url\";\n\nexport const getApi = async (wsEndpoint: string): Promise<ApiPromise> => {\n  const wsProvider = new WsProvider(wsEndpoint);\n  const api = ApiPromise.create({ provider: wsProvider });\n  return api;\n};\n\nexport const getLatestBlock = async (api: ApiPromise): Promise<number> => {\n  const header = await api.rpc.chain.getHeader();\n  return header.number.toNumber();\n};\n\nexport const getLatestFinalizedBlock = async (\n  api: ApiPromise\n): Promise<number> => {\n  const hash = await api.rpc.chain.getFinalizedHead();\n  const header = await api.rpc.chain.getHeader(hash);\n  if (header.number.toNumber() === 0) {\n    console.error(\"Unable to retrieve finalized head - returned genesis block\");\n    process.exit(1);\n  }\n  return header.number.toNumber();\n};\n\nexport const deeplog = function (obj: any): void {\n  console.log(JSON.stringify(obj, null, 2));\n};\n\nexport const stringIsAValidUrl = (s: string): boolean => {\n  try {\n    new URL(s);\n    return true;\n  } catch (err) {\n    return false;\n  }\n};\n\nexport const prefixToArray = function (prefix: string): string[] {\n  const returnArray = [];\n  const exploded = prefix.split(\",\");\n  for (const p of exploded) {\n    if (p.indexOf(\"0x\") === 0) {\n      returnArray.push(p);\n    } else {\n      returnArray.push(stringToHex(p));\n    }\n  }\n  return returnArray;\n};\n","export type Options = {\n  ws: string;\n  from: string;\n  to: string;\n  prefixes: string;\n  blocks: string;\n  json: string;\n  folder: string;\n  append: string;\n  remark: string;\n};\n\nexport type BlockCalls = {\n  block: number;\n  calls: BlockCall[];\n};\n\nexport type BlockCall = {\n  call: string;\n  value: string;\n  caller: string;\n};\n\nexport enum OP_TYPES {\n  BUY = \"BUY\",\n  LIST = \"LIST\",\n  MINT = \"MINT\",\n  MINTNFT = \"MINTNFT\",\n  SEND = \"SEND\",\n  EMOTE = \"EMOTE\",\n  CHANGEISSUER = \"CHANGEISSUER\",\n}\n","import JsonAdapter from \"./adapters/json\";\nimport { Collection as C100 } from \"../../rmrk1.0.0/classes/collection\";\nimport { NFT as N100 } from \"../../rmrk1.0.0/classes/nft\";\nimport { ChangeIssuer } from \"../../rmrk1.0.0/classes/changeissuer\";\nimport { Send } from \"../../rmrk1.0.0/classes/send\";\nimport { Emote } from \"../../rmrk1.0.0/classes/emote\";\nimport { Change } from \"../../rmrk1.0.0/changelog\";\nimport { deeplog } from \"../utils\";\nimport { decodeAddress } from \"@polkadot/keyring\";\nimport { u8aToHex } from \"@polkadot/util\";\nimport { Remark } from \"./remark\";\nimport { OP_TYPES } from \"../types\";\n// import * as fs from \"fs\";\n\nexport class Consolidator {\n  private adapter: JsonAdapter;\n  private invalidCalls: InvalidCall[];\n  private collections: C100[];\n  private nfts: N100[];\n  constructor(initializedAdapter: JsonAdapter) {\n    this.adapter = initializedAdapter;\n    this.invalidCalls = [];\n    this.collections = [];\n    this.nfts = [];\n  }\n  private findExistingCollection(id: string) {\n    return this.collections.find((el) => el.id === id);\n  }\n  private updateInvalidCalls(op_type: OP_TYPES, remark: Remark) {\n    const invalidCallBase: Partial<InvalidCall> = {\n      op_type,\n      block: remark.block,\n      caller: remark.caller,\n    };\n    return function update(\n      this: Consolidator,\n      object_id: string,\n      message: string\n    ) {\n      this.invalidCalls.push({\n        ...invalidCallBase,\n        object_id,\n        message,\n      } as InvalidCall);\n    };\n  }\n  private mint(remark: Remark): boolean {\n    // A new collection was created\n    console.log(\"Instantiating collection\");\n    const invalidate = this.updateInvalidCalls(OP_TYPES.MINT, remark).bind(\n      this\n    );\n    const c = C100.fromRemark(remark.remark, remark.block);\n\n    if (typeof c === \"string\") {\n      // console.log(\n      //   \"Collection was not instantiated OK from \" + remark.remark\n      // );\n      invalidate(\n        remark.remark,\n        `[${OP_TYPES.MINT}] Dead before instantiation: ${c}`\n      );\n      return true;\n    }\n\n    //console.log(\"Collection instantiated OK from \" + remark.remark);\n    const pubkey = decodeAddress(remark.caller);\n    const id = C100.generateId(u8aToHex(pubkey), c.symbol);\n\n    if (this.findExistingCollection(c.id)) {\n      invalidate(\n        c.id,\n        `[${OP_TYPES.MINT}] Attempt to mint already existing collection`\n      );\n      return true;\n    }\n\n    if (id.toLowerCase() !== c.id.toLowerCase()) {\n      invalidate(\n        c.id,\n        `Caller's pubkey ${u8aToHex(\n          pubkey\n        )} (${id}) does not match generated ID`\n      );\n      return true;\n    }\n\n    this.collections.push(c);\n    return false;\n  }\n\n  private mintNFT(remark: Remark): boolean {\n    // A new NFT was minted into a collection\n    console.log(\"Instantiating nft\");\n    const invalidate = this.updateInvalidCalls(OP_TYPES.MINTNFT, remark).bind(\n      this\n    );\n    const n = N100.fromRemark(remark.remark, remark.block);\n\n    if (typeof n === \"string\") {\n      invalidate(\n        remark.remark,\n        `[${OP_TYPES.MINTNFT}] Dead before instantiation: ${n}`\n      );\n      return true;\n    }\n\n    const nftParent = this.findExistingCollection(n.collection);\n    if (!nftParent) {\n      invalidate(\n        n.getId(),\n        `NFT referencing non-existant parent collection ${n.collection}`\n      );\n      return true;\n    }\n\n    n.owner = nftParent.issuer;\n    if (remark.caller != n.owner) {\n      invalidate(\n        n.getId(),\n        `Attempted issue of NFT in non-owned collection. Issuer: ${nftParent.issuer}, caller: ${remark.caller}`\n      );\n      return true;\n    }\n\n    const existsCheck = this.nfts.find((el) => {\n      const idExpand1 = el.getId().split(\"-\");\n      idExpand1.shift();\n      const uniquePart1 = idExpand1.join(\"-\");\n\n      const idExpand2 = n.getId().split(\"-\");\n      idExpand2.shift();\n      const uniquePart2 = idExpand2.join(\"-\");\n\n      return uniquePart1 === uniquePart2;\n    });\n\n    if (existsCheck) {\n      invalidate(\n        n.getId(),\n        `[${OP_TYPES.MINTNFT}] Attempt to mint already existing NFT`\n      );\n      return true;\n    }\n    if (n.owner === \"\") {\n      invalidate(\n        n.getId(),\n        `[${OP_TYPES.MINTNFT}] Somehow this NFT still doesn't have an owner.`\n      );\n      return true;\n    }\n    this.nfts.push(n);\n    return false;\n  }\n\n  private send(remark: Remark): boolean {\n    // An NFT was sent to a new owner\n    console.log(\"Instantiating send\");\n    const send = Send.fromRemark(remark.remark);\n    const invalidate = this.updateInvalidCalls(OP_TYPES.SEND, remark).bind(\n      this\n    );\n    if (typeof send === \"string\") {\n      invalidate(\n        remark.remark,\n        `[${OP_TYPES.SEND}] Dead before instantiation: ${send}`\n      );\n      return true;\n    }\n\n    const nft = this.nfts.find((el) => {\n      const idExpand1 = el.getId().split(\"-\");\n      idExpand1.shift();\n      const uniquePart1 = idExpand1.join(\"-\");\n\n      const idExpand2 = send.id.split(\"-\");\n      idExpand2.shift();\n      const uniquePart2 = idExpand2.join(\"-\");\n\n      return uniquePart1 === uniquePart2;\n    });\n\n    // @todo add condition for transferable!\n\n    if (!nft) {\n      invalidate(\n        send.id,\n        `[${OP_TYPES.SEND}] Attempting to send non-existant NFT ${send.id}`\n      );\n      return true;\n    }\n\n    // Check if allowed to issue send - if owner == caller\n    if (nft.owner != remark.caller) {\n      invalidate(\n        send.id,\n        `[${OP_TYPES.SEND}] Attempting to send non-owned NFT ${send.id}, real owner: ${nft.owner}`\n      );\n      return true;\n    }\n\n    nft.addChange({\n      field: \"owner\",\n      old: nft.owner,\n      new: send.recipient,\n      caller: remark.caller,\n      block: remark.block,\n    } as Change);\n\n    nft.owner = send.recipient;\n    return false;\n  }\n\n  private emote(remark: Remark): boolean {\n    // An EMOTE reaction has been sent\n    console.log(\"Instantiating emote\");\n    const emote = Emote.fromRemark(remark.remark);\n    const invalidate = this.updateInvalidCalls(OP_TYPES.EMOTE, remark).bind(\n      this\n    );\n    if (typeof emote === \"string\") {\n      invalidate(\n        remark.remark,\n        `[${OP_TYPES.EMOTE}] Dead before instantiation: ${emote}`\n      );\n      return true;\n    }\n    const target = this.nfts.find((el) => el.getId() === emote.id);\n    if (!target) {\n      invalidate(\n        emote.id,\n        `[${OP_TYPES.EMOTE}] Attempting to emote on non-existant NFT ${emote.id}`\n      );\n      return true;\n    }\n    const index = target.reactions[emote.unicode].indexOf(remark.caller, 0);\n    if (index > -1) {\n      target.reactions[emote.unicode].splice(index, 1);\n    } else {\n      target.reactions[emote.unicode].push(remark.caller);\n    }\n    return false;\n  }\n\n  private changeIssuer(remark: Remark): boolean {\n    // The ownership of a collection has changed\n    console.log(\"Instantiating an issuer change\");\n    const ci = ChangeIssuer.fromRemark(remark.remark);\n    const invalidate = this.updateInvalidCalls(\n      OP_TYPES.CHANGEISSUER,\n      remark\n    ).bind(this);\n    if (typeof ci === \"string\") {\n      // console.log(\n      //   \"ChangeIssuer was not instantiated OK from \" + remark.remark\n      // );\n      invalidate(\n        remark.remark,\n        `[${OP_TYPES.CHANGEISSUER}] Dead before instantiation: ${ci}`\n      );\n      return true;\n    }\n    const coll = this.collections.find((el: C100) => el.id === ci.id);\n    if (!coll) {\n      invalidate(\n        ci.id,\n        `This ${OP_TYPES.CHANGEISSUER} remark is invalid - no such collection with ID ${ci.id} found before block ${remark.block}!`\n      );\n      return true;\n    }\n\n    if (remark.caller != coll.issuer) {\n      invalidate(\n        ci.id,\n        `Attempting to change issuer of collection ${ci.id} when not issuer!`\n      );\n      return true;\n    }\n\n    coll.addChange({\n      field: \"issuer\",\n      old: coll.issuer,\n      new: ci.issuer,\n      caller: remark.caller,\n      block: remark.block,\n    } as Change);\n\n    coll.issuer = ci.issuer;\n    return false;\n  }\n\n  public consolidate(): void {\n    const remarks = this.adapter.getRemarks();\n    //console.log(remarks);\n    for (const remark of remarks) {\n      console.log(\"==============================\");\n      console.log(\"Remark is: \" + remark.remark);\n      switch (remark.interaction_type) {\n        case OP_TYPES.MINT:\n          if (this.mint(remark)) {\n            continue;\n          }\n          break;\n\n        case OP_TYPES.MINTNFT:\n          if (this.mintNFT(remark)) {\n            continue;\n          }\n          break;\n\n        case OP_TYPES.SEND:\n          if (this.send(remark)) {\n            continue;\n          }\n          break;\n\n        case OP_TYPES.BUY:\n          // An NFT was bought after being LISTed\n          break;\n\n        case OP_TYPES.LIST:\n          // An NFT was listed for sale\n          break;\n\n        case OP_TYPES.EMOTE:\n          if (this.emote(remark)) {\n            continue;\n          }\n          break;\n\n        case OP_TYPES.CHANGEISSUER:\n          if (this.changeIssuer(remark)) {\n            continue;\n          }\n          break;\n\n        default:\n          console.error(\n            \"Unable to process this remark - wrong type: \" +\n              remark.interaction_type\n          );\n      }\n    }\n    deeplog(this.nfts);\n    deeplog(this.collections);\n    console.log(this.invalidCalls);\n  }\n}\n\ntype InvalidCall = {\n  message: string;\n  caller: string;\n  block: number;\n  object_id: string;\n  op_type: string;\n};\n"],"names":["__awaiter","thisArg","_arguments","P","generator","adopt","value","resolve","Promise","reject","fulfilled","step","next","e","rejected","result","done","then","apply","DisplayType","isFunction","isString","String","assert","condition","message","Error","_defineProperty","obj","key","Object","defineProperty","enumerable","configurable","writable","HEX_REGEX","isHex","bitLength","ignoreLength","isValidHex","test","toString","length","Math","ceil","hexHasPrefix","substr","UNPREFIX_HEX_REGEX","hexStripPrefix","bufferToU8a","buffer","Uint8Array","hexToU8a","_value","valLength","bufLength","offset","max","index","parseInt","isBuffer","Buffer","encoder","TextEncoder","stringToU8a","encode","convertArray","Array","isArray","from","convertString","u8aToU8a","u8aConcat","list","u8as","i","set","ALPHABET","fill","map","_","n","padStart","extract","join","trim","halfLength","u8aToHex","subarray","isPrefixed","prefix","byteLength","isInstanceOf","clazz","isU8a","copyProps","src","dst","alloc","allocUnsafe","allocUnsafeSlow","module","exports","SafeBuffer","arg","encodingOrOffset","prototype","create","TypeError","size","encoding","buf","undefined","SlowBuffer","_Buffer","require","base","BASE_MAP","j","x","charAt","xc","charCodeAt","BASE","LEADER","FACTOR","log","iFACTOR","source","zeroes","pbegin","pend","b58","carry","it1","it2","str","repeat","decodeUnsafe","psz","b256","it3","it4","vch","decode","string","BASE58_ALPHABET","bs58","baseX","BASE_CONFIG","alphabet","ipfsChar","type","validateChars","ipfsCompat","includes","base58Validate","base58Decode","ERROR_MSG_INPUT","normalizeInput","input","ret","toHex","bytes","call","uint32ToHex","val","substring","debugPrint","label","arr","msg","toUpperCase","console","testSpeed","hashFn","N","M","startMs","Date","getTime","genMs","hashHex","hashMs","ms","round","ADD64AA","v","a","b","o0","o1","ADD64AC","b0","b1","B2B_GET32","B2B_G","c","d","ix","iy","x0","m","x1","y0","y1","xor0","xor1","BLAKE2B_IV32","Uint32Array","SIGMA8","SIGMA82","blake2bCompress","ctx","last","h","t","blake2bInit","outlen","keylen","blake2bUpdate","blake2bFinal","out","blake2b","util","blake2bHex","output","B2S_GET32","B2S_G","y","ROTR32","BLAKE2S_IV","SIGMA","blake2sCompress","blake2sInit","blake2sUpdate","blake2sFinal","blake2s","blake2sHex","b2b","b2s","blake2AsU8a","data","onlyJs","js","SS58_PREFIX","sshash","checkAddressChecksum","decoded","ss58Length","ss58Decoded","isPublicKey","hash","isValid","ownKeys","object","enumerableOnly","keys","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","push","_objectSpread","target","arguments","forEach","getOwnPropertyDescriptors","defineProperties","UNSORTED","createReserved","displayName","network","decimals","isIgnored","standardAccount","website","all","genesisHash","hasLedgerSupport","icon","slip44","available","sort","localeCompare","defaults","allowedDecodedLengths","allowedEncodedLengths","allowedPrefix","decodeAddress","encoded","ignoreChecksum","ss58Format","endPos","slice","error","C100","N100"],"mappings":"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"}